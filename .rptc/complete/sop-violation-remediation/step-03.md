# Step 3: Add Barrel Exports to Features Missing Them

## Purpose

Convert wildcard exports (`export *`) to curated explicit exports in 5 feature index.ts files, establishing clear public APIs per SOP Section 14 (Module Boundary/Facade Consistency).

## Prerequisites

- [ ] Understanding of feature public API vs internal implementation
- [ ] Reference: `authentication/index.ts` and `eds/index.ts` for curated export patterns

## Violations to Fix

| Feature | Current State | Issue |
|---------|---------------|-------|
| `project-creation` | `export {}` | Empty - no public API |
| `dashboard` | `export * from './handlers'` | Wildcard exposes internals |
| `prerequisites` | `export * from ...` | Wildcard exposes internals |
| `components` | All wildcards | No curated API |
| `updates` | Mostly wildcards | No curated API |

## Tests to Write First

- [ ] Test: Verify public API exports are importable
  - **Given:** Updated index.ts with curated exports
  - **When:** Import specific named exports from feature
  - **Then:** All documented public APIs are accessible
  - **File:** `tests/features/barrel-exports.test.ts`

- [ ] Test: Verify wildcard removal doesn't break existing imports
  - **Given:** Codebase with imports from feature modules
  - **When:** Update to curated exports
  - **Then:** All existing cross-feature imports still resolve
  - **File:** `tests/features/barrel-exports.test.ts`

## Files to Modify

- [ ] `src/features/project-creation/index.ts` - Add curated exports for handlers, helpers
- [ ] `src/features/dashboard/index.ts` - Replace wildcard with explicit handler exports
- [ ] `src/features/prerequisites/index.ts` - Replace wildcards with explicit exports
- [ ] `src/features/components/index.ts` - Replace wildcards with explicit exports
- [ ] `src/features/updates/index.ts` - Replace wildcards with explicit exports

## Implementation Details

### RED Phase

Write tests that import specific named exports from each feature:

```typescript
// tests/features/barrel-exports.test.ts
describe('Feature barrel exports', () => {
  it('project-creation exports public API', () => {
    const exports = require('@/features/project-creation');
    expect(exports.CreateProjectCommand).toBeDefined();
    expect(exports.envFileGenerator).toBeUndefined(); // Internal
  });
});
```

### GREEN Phase

Replace wildcards with curated exports following this pattern:

```typescript
// Good: Curated public API (from eds/index.ts pattern)
export { CreateProjectCommand } from './commands/createProject';
export { handleValidate, handleCreate } from './handlers';
export type { ProjectConfig } from './handlers/services/types';

// Bad: Wildcard exposing internals
export * from './handlers';
```

### REFACTOR Phase

- Ensure only public API is exported (handlers, commands, key types)
- Keep internal helpers unexported (orchestrators, formatters, predicates)
- Add JSDoc header explaining feature purpose

## Expected Outcome

- All 5 features have curated `index.ts` with explicit named exports
- Internal implementation details not exported
- Existing imports continue working (backward compatible)
- Clear distinction between public API and internals

## Acceptance Criteria

- [ ] No wildcard exports (`export *`) in feature index.ts files
- [ ] All cross-feature imports still resolve
- [ ] Each index.ts has JSDoc header describing feature
- [ ] Tests verify public API accessibility

## Estimated Time

1-2 hours

---

_Generated by Step Generator Sub-Agent_
