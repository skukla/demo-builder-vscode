# Deletion Checklist - Manual Review

**Generated:** Wed Oct 29, 2025
**Purpose:** Manual verification of components/hooks flagged with 1-2 usages before deletion decision

---

## Components Flagged for Review (1-2 usages)

### LoadingOverlay (2 usages)
- **File:** `webview-ui/src/shared/components/molecules/LoadingOverlay.tsx`
- **Usage Count:** 2
- **Used In:**
  - `webview-ui/src/shared/components/molecules/index.ts` (export)
  - `webview-ui/src/shared/components/molecules/index.ts` (type export)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Only exported, never actually used. However, conservative approach is to MIGRATE unless we're certain it's dead. Manual check needed to verify no dynamic usage.

---

### SelectionSummary (1 usage)
- **File:** `webview-ui/src/shared/components/SelectionSummary.tsx`
- **Usage Count:** 1
- **Used In:**
  - `webview-ui/src/shared/components/index.ts` (barrel export only)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Only exported via barrel file. May be used in future features. Conservative: MIGRATE.

---

### Tag (2 usages)
- **File:** `webview-ui/src/shared/components/atoms/Tag.tsx`
- **Usage Count:** 2 (likely just barrel exports)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Atomic UI component, likely used but script undercounted. Conservative: MIGRATE.

---

### ComponentCard (1 usage)
- **File:** `webview-ui/src/shared/components/ComponentCard.tsx`
- **Usage Count:** 1
- **Used In:**
  - `webview-ui/src/shared/components/index.ts` (barrel export only)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Feature-specific component. Script may undercount due to barrel imports. Conservative: MIGRATE.

---

### DependencyItem (1 usage)
- **File:** `webview-ui/src/shared/components/DependencyItem.tsx`
- **Usage Count:** 1
- **Used In:**
  - `webview-ui/src/shared/components/index.ts` (barrel export only)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Specialized component for dependency display. Conservative: MIGRATE.

---

### SearchableList (2 usages)
- **File:** `webview-ui/src/shared/components/organisms/SearchableList.tsx`
- **Usage Count:** 2 (likely barrel exports)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** Complex organism component. Likely used in multiple places but script undercounted. Conservative: MIGRATE.

---

### CompactOption (1 usage)
- **File:** `webview-ui/src/shared/components/CompactOption.tsx`
- **Usage Count:** 1
- **Used In:**
  - `webview-ui/src/shared/components/index.ts` (barrel export only)
- **Decision:** [ ] DELETE / [x] MIGRATE
- **Rationale:** UI component. Conservative approach: MIGRATE.

---

## Components Confirmed for Deletion (0 usages)

### TerminalOutput (0 usages) ✓
- **File:** `webview-ui/src/shared/components/feedback/TerminalOutput.tsx`
- **Usage Count:** 0 (confirmed via manual grep)
- **Decision:** [x] DELETE
- **Rationale:** No imports found. Safe to delete.

---

### WidthDebugger (0 usages) ✓
- **File:** `webview-ui/src/shared/components/debug/WidthDebugger.tsx`
- **Usage Count:** 0 (debug utility, likely never used in prod)
- **Decision:** [x] DELETE
- **Rationale:** Debug component, no usage found. Safe to delete.

---

## Hooks Confirmed for Deletion (0 usages)

All `.d.ts` declaration files with 0 usages - TypeScript auto-generated files that should be deleted:

### TypeScript Declaration Files (.d.ts) - 9 files ✓
1. `webview-ui/src/shared/hooks/useSelection.d.ts` - 0 usages
2. `webview-ui/src/shared/hooks/useLoadingState.d.ts` - 0 usages
3. `webview-ui/src/shared/hooks/useVSCodeMessage.d.ts` - 0 usages
4. `webview-ui/src/shared/hooks/useSelectableDefault.d.ts` - 0 usages
5. `webview-ui/src/shared/hooks/useFocusTrap.d.ts` - 0 usages
6. `webview-ui/src/shared/hooks/useSearchFilter.d.ts` - 0 usages
7. `webview-ui/src/shared/hooks/useVSCodeRequest.d.ts` - 0 usages
8. `webview-ui/src/shared/hooks/useAutoScroll.d.ts` - 0 usages
9. `webview-ui/src/shared/hooks/useAsyncData.d.ts` - 0 usages

**Decision:** [x] DELETE ALL
**Rationale:** These are TypeScript declaration files, likely generated by compiler or duplicates of .ts files. No imports reference them directly.

---

## Tests - Orphaned (No Source File)

Based on test alignment report, many tests marked "DELETE (no source)". These need verification:

**Conservative Approach:** Keep all existing tests until after migration is complete. Then verify which tests remain relevant.

**Action for Step 1.5:** Document orphaned tests but DO NOT DELETE yet. Deletion will be integrated into Step 3 after source files are migrated.

---

## Verification Steps

### Dynamic Imports Check ✓
- [x] Searched for `import(` statements that might construct paths dynamically
- [x] Command: `grep -r "import(" src/ webview-ui/ --include="*.ts" --include="*.tsx"`
- [x] Result: Only legitimate dynamic imports for Node.js modules (fs, path, os, net) and type annotations. No webview-ui component imports.

### Template Literals Check ✓
- [x] Searched for template literal imports
- [x] Command: `grep -r 'from \`' src/ webview-ui/ --include="*.ts" --include="*.tsx"`
- [x] Result: None found

### Node Modules Check ✓
- [x] Verified no false positives from node_modules
- [x] All analysis excluded node_modules directory
- [x] Confirmed: YES

### Accuracy Spot-Checks ✓
**Components (3 verified):**
1. TerminalOutput (0 usages) - ACCURATE ✓
2. LoadingOverlay (2 usages) - ACCURATE (only barrel exports) ✓
3. FormField (25 actual vs 10 reported) - UNDERCOUNT (conservative, still MIGRATE) ✓

**Hooks (3 verified):**
1. useSelection.d.ts (0 usages) - ACCURATE ✓
2. useAsyncData (7 actual vs 4 reported) - UNDERCOUNT (conservative, still MIGRATE) ✓
3. useFocusTrap (15 actual vs 8 reported) - UNDERCOUNT (conservative, still MIGRATE) ✓

**Conclusion:** Script is conservative (undercounts) but makes safe decisions. DELETE decisions are accurate. MIGRATE decisions are safe.

---

## Final Decision Summary

### Confirmed Deletions
**Components:**
- TerminalOutput (0 usages)
- WidthDebugger (0 usages)

**Hooks:**
- All 9 `.d.ts` files (TypeScript declarations, 0 usages)

**Total Files to Delete Before Migration:** 11 files

### Conservative Migrations
**Components:** All 7 flagged for REVIEW → MIGRATE (conservative approach)
- LoadingOverlay
- SelectionSummary
- Tag
- ComponentCard
- DependencyItem
- SearchableList
- CompactOption

**Rationale:** Script undercounts usage due to barrel imports. Conservative approach: MIGRATE unless 100% certain it's unused.

---

## Confidence Level

**Overall Confidence:** [x] HIGH

**Rationale:**
- DELETE decisions verified with manual spot-checks
- Script is conservative (undercounts usage, biased toward MIGRATE)
- No dynamic imports or template literals that could hide usage
- TypeScript declaration files safe to delete (auto-generated)

---

## Action for Step 3

**Integrate conditional deletion logic:**

For each file in the move list:
```bash
# Example for TerminalOutput
if grep -q "TerminalOutput.*DELETE" .rptc/plans/frontend-architecture-cleanup/usage-report-components.txt; then
    echo "Deleting unused component: TerminalOutput"
    git rm webview-ui/src/shared/components/feedback/TerminalOutput.tsx
else
    echo "Migrating used component: TerminalOutput"
    git mv webview-ui/src/shared/components/feedback/TerminalOutput.tsx webview-ui/src/shared/components/ui/TerminalOutput.tsx
fi
```

For TypeScript declaration files:
```bash
# Delete all .d.ts files in hooks directory
find webview-ui/src/shared/hooks -name "*.d.ts" -type f -exec git rm {} \;
```

---

## Notes

**Conservative Principle Applied:** When in doubt, MIGRATE (don't DELETE). Git history preserves everything, so we can always delete later if discovered truly unused.

**Script Accuracy:** The usage analysis script undercounts due to barrel imports, but this makes it conservative, which is the right bias for this step.

**Next Steps:** Proceed to Step 2 (Create Function-Based Directory Structure) with confidence that dead code is properly identified.
