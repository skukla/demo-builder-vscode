{
  "$schema": "./api-services.schema.json",
  "services": {
    "apiMesh": {
      "displayName": "API Mesh for Adobe Developer App Builder",
      "detection": {
        "namePatterns": ["API Mesh"],
        "codes": ["MeshAPI"],
        "codeNames": ["MeshAPI"]
      },
      "description": "API Mesh enables GraphQL federation and API aggregation",
      "setupInstructions": [
        {
          "step": "Click 'Add service' under the workspace dropdown",
          "details": "In the workspace dropdown, select 'Add service', then choose 'API'"
        },
        {
          "step": "Filter to Adobe Experience Platform",
          "details": "Click the 'Adobe Experience Platform' filter to show API Mesh"
        },
        {
          "step": "Select 'API Mesh for Adobe Developer App Builder'",
          "details": "Click on 'API Mesh for Adobe Developer App Builder' to add it to your workspace"
        },
        {
          "step": "Configure Allowed Domains",
          "details": "In the API configuration, add '{{ALLOWED_DOMAINS}}' to the Allowed Domains list",
          "dynamicValues": {
            "ALLOWED_DOMAINS": {
              "source": "selectedComponents",
              "filter": "frontends",
              "format": "localhost:{{port}}"
            }
          }
        }
      ]
    }
  }
}

